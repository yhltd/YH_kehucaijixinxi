{"remainingRequest":"E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\babel-loader\\lib\\index.js!E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\@jiaminghi\\data-view\\lib\\components\\conicalColumnChart\\src\\main.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\@jiaminghi\\data-view\\lib\\components\\conicalColumnChart\\src\\main.vue","mtime":1681782973585},{"path":"E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\babel.config.js","mtime":1681782968933},{"path":"E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681782977946},{"path":"E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\babel-loader\\lib\\index.js","mtime":1681782976971},{"path":"E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681782977946},{"path":"E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\vue-loader\\lib\\index.js","mtime":1681783170949}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"E:/\\u5DE5\\u4F5C(\\u6797)/YH_kehucaijixinxi/code/wb/WeBank/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.sort\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport autoResize from \"../../../mixin/autoResize\";\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index';\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util';\nexport default {\n  name: 'DvConicalColumnChart',\n  mixins: [autoResize],\n  props: {\n    config: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      ref: 'conical-column-chart',\n      defaultConfig: {\n        /**\r\n         * @description Chart data\r\n         * @type {Array<Object>}\r\n         * @default data = []\r\n         */\n        data: [],\n        /**\r\n         * @description Chart img\r\n         * @type {Array<String>}\r\n         * @default img = []\r\n         */\n        img: [],\n        /**\r\n         * @description Chart font size\r\n         * @type {Number}\r\n         * @default fontSize = 12\r\n         */\n        fontSize: 12,\n        /**\r\n         * @description Img side length\r\n         * @type {Number}\r\n         * @default imgSideLength = 30\r\n         */\n        imgSideLength: 30,\n        /**\r\n         * @description Column color\r\n         * @type {String}\r\n         * @default columnColor = 'rgba(0, 194, 255, 0.4)'\r\n         */\n        columnColor: 'rgba(0, 194, 255, 0.4)',\n        /**\r\n         * @description Text color\r\n         * @type {String}\r\n         * @default textColor = '#fff'\r\n         */\n        textColor: '#fff',\n        /**\r\n         * @description Show value\r\n         * @type {Boolean}\r\n         * @default showValue = false\r\n         */\n        showValue: false\n      },\n      mergedConfig: null,\n      column: []\n    };\n  },\n  watch: {\n    config: function config() {\n      var calcData = this.calcData;\n      calcData();\n    }\n  },\n  methods: {\n    afterAutoResizeMixinInit: function afterAutoResizeMixinInit() {\n      var calcData = this.calcData;\n      calcData();\n    },\n    onResize: function onResize() {\n      var calcData = this.calcData;\n      calcData();\n    },\n    calcData: function calcData() {\n      var mergeConfig = this.mergeConfig,\n        initData = this.initData,\n        calcSVGPath = this.calcSVGPath;\n      mergeConfig();\n      initData();\n      calcSVGPath();\n    },\n    mergeConfig: function mergeConfig() {\n      var defaultConfig = this.defaultConfig,\n        config = this.config;\n      this.mergedConfig = deepMerge(deepClone(defaultConfig, true), config || {});\n    },\n    initData: function initData() {\n      var mergedConfig = this.mergedConfig;\n      var data = mergedConfig.data;\n      data = deepClone(data, true);\n      data.sort(function (_ref, _ref2) {\n        var a = _ref.value;\n        var b = _ref2.value;\n        if (a > b) return -1;\n        if (a < b) return 1;\n        if (a === b) return 0;\n      });\n      var max = data[0] ? data[0].value : 10;\n      data = data.map(function (item) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          percent: item.value / max\n        });\n      });\n      mergedConfig.data = data;\n    },\n    calcSVGPath: function calcSVGPath() {\n      var mergedConfig = this.mergedConfig,\n        width = this.width,\n        height = this.height;\n      var imgSideLength = mergedConfig.imgSideLength,\n        fontSize = mergedConfig.fontSize,\n        data = mergedConfig.data;\n      var itemNum = data.length;\n      var gap = width / (itemNum + 1);\n      var useAbleHeight = height - imgSideLength - fontSize - 5;\n      var svgBottom = height - fontSize - 5;\n      this.column = data.map(function (item, i) {\n        var percent = item.percent;\n        var middleXPos = gap * (i + 1);\n        var leftXPos = gap * i;\n        var rightXpos = gap * (i + 2);\n        var middleYPos = svgBottom - useAbleHeight * percent;\n        var controlYPos = useAbleHeight * percent * 0.6 + middleYPos;\n        var d = \"\\n          M\".concat(leftXPos, \", \").concat(svgBottom, \"\\n          Q\").concat(middleXPos, \", \").concat(controlYPos, \" \").concat(middleXPos, \",\").concat(middleYPos, \"\\n          M\").concat(middleXPos, \",\").concat(middleYPos, \"\\n          Q\").concat(middleXPos, \", \").concat(controlYPos, \" \").concat(rightXpos, \",\").concat(svgBottom, \"\\n          L\").concat(leftXPos, \", \").concat(svgBottom, \"\\n          Z\\n        \");\n        var textY = (svgBottom + middleYPos) / 2 + fontSize / 2;\n        return _objectSpread(_objectSpread({}, item), {}, {\n          d: d,\n          x: middleXPos,\n          y: middleYPos,\n          textY: textY\n        });\n      });\n    }\n  }\n};",{"version":3,"names":["autoResize","deepMerge","deepClone","name","mixins","props","config","type","Object","default","_default","data","ref","defaultConfig","img","fontSize","imgSideLength","columnColor","textColor","showValue","mergedConfig","column","watch","calcData","methods","afterAutoResizeMixinInit","onResize","mergeConfig","initData","calcSVGPath","sort","_ref","_ref2","a","value","b","max","map","item","_objectSpread","percent","width","height","itemNum","length","gap","useAbleHeight","svgBottom","i","middleXPos","leftXPos","rightXpos","middleYPos","controlYPos","d","concat","textY","x","y"],"sources":["node_modules/@jiaminghi/data-view/lib/components/conicalColumnChart/src/main.vue"],"sourcesContent":["<template>\r\n  <div class=\"dv-conical-column-chart\" :ref=\"ref\">\r\n    <svg :width=\"width\" :height=\"height\">\r\n      <g\r\n        v-for=\"(item, i) in column\"\r\n        :key=\"i\"\r\n      >\r\n        <path\r\n          :d=\"item.d\"\r\n          :fill=\"mergedConfig.columnColor\"\r\n        />\r\n        <text\r\n          :style=\"`fontSize:${mergedConfig.fontSize}px`\"\r\n          :fill=\"mergedConfig.textColor\"\r\n          :x=\"item.x\"\r\n          :y=\"height - 4\"\r\n        >\r\n          {{ item.name }}\r\n        </text>\r\n        <image\r\n          v-if=\"mergedConfig.img.length\"\r\n          :xlink:href=\"mergedConfig.img[i % mergedConfig.img.length]\"\r\n          :width=\"mergedConfig.imgSideLength\"\r\n          :height=\"mergedConfig.imgSideLength\"\r\n          :x=\"item.x - mergedConfig.imgSideLength / 2\"\r\n          :y=\"item.y - mergedConfig.imgSideLength\"\r\n        />\r\n        <text\r\n          v-if=\"mergedConfig.showValue\"\r\n          :style=\"`fontSize:${mergedConfig.fontSize}px`\"\r\n          :fill=\"mergedConfig.textColor\"\r\n          :x=\"item.x\"\r\n          :y=\"item.textY\"\r\n        >\r\n          {{ item.value }}\r\n        </text>\r\n      </g>\r\n    </svg>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport autoResize from '../../../mixin/autoResize'\r\n\r\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\r\n\r\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\r\n\r\nexport default {\r\n  name: 'DvConicalColumnChart',\r\n  mixins: [autoResize],\r\n  props: {\r\n    config: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      ref: 'conical-column-chart',\r\n\r\n      defaultConfig: {\r\n        /**\r\n         * @description Chart data\r\n         * @type {Array<Object>}\r\n         * @default data = []\r\n         */\r\n        data: [],\r\n        /**\r\n         * @description Chart img\r\n         * @type {Array<String>}\r\n         * @default img = []\r\n         */\r\n        img: [],\r\n        /**\r\n         * @description Chart font size\r\n         * @type {Number}\r\n         * @default fontSize = 12\r\n         */\r\n        fontSize: 12,\r\n        /**\r\n         * @description Img side length\r\n         * @type {Number}\r\n         * @default imgSideLength = 30\r\n         */\r\n        imgSideLength: 30,\r\n        /**\r\n         * @description Column color\r\n         * @type {String}\r\n         * @default columnColor = 'rgba(0, 194, 255, 0.4)'\r\n         */\r\n        columnColor: 'rgba(0, 194, 255, 0.4)',\r\n        /**\r\n         * @description Text color\r\n         * @type {String}\r\n         * @default textColor = '#fff'\r\n         */\r\n        textColor: '#fff',\r\n        /**\r\n         * @description Show value\r\n         * @type {Boolean}\r\n         * @default showValue = false\r\n         */\r\n        showValue: false\r\n      },\r\n\r\n      mergedConfig: null,\r\n\r\n      column: []\r\n    }\r\n  },\r\n  watch: {\r\n    config () {\r\n      const { calcData } = this\r\n\r\n      calcData()\r\n    }\r\n  },\r\n  methods: {\r\n    afterAutoResizeMixinInit () {\r\n      const { calcData } = this\r\n\r\n      calcData()\r\n    },\r\n    onResize () {\r\n      const { calcData } = this\r\n\r\n      calcData()\r\n    },\r\n    calcData () {\r\n      const { mergeConfig, initData, calcSVGPath } = this\r\n\r\n      mergeConfig()\r\n\r\n      initData()\r\n\r\n      calcSVGPath()\r\n    },\r\n    mergeConfig () {\r\n      const { defaultConfig, config } = this\r\n\r\n      this.mergedConfig = deepMerge(deepClone(defaultConfig, true), config || {})\r\n    },\r\n    initData () {\r\n      const { mergedConfig } = this\r\n      let { data } = mergedConfig\r\n\r\n      data = deepClone(data, true)\r\n\r\n      data.sort(({ value: a }, { value: b }) => {\r\n        if (a > b) return -1\r\n        if (a < b) return 1\r\n        if (a === b) return 0\r\n      })\r\n\r\n      const max = data[0] ? data[0].value : 10\r\n\r\n      data = data.map(item => ({\r\n        ...item,\r\n        percent: item.value / max\r\n      }))\r\n\r\n      mergedConfig.data = data\r\n    },\r\n    calcSVGPath () {\r\n      const { mergedConfig, width, height } = this\r\n\r\n      const { imgSideLength, fontSize, data } = mergedConfig\r\n\r\n      const itemNum = data.length\r\n      const gap = width / (itemNum + 1)\r\n\r\n      const useAbleHeight = height - imgSideLength - fontSize - 5\r\n      const svgBottom = height - fontSize - 5\r\n\r\n      this.column = data.map((item, i) => {\r\n        const { percent } = item\r\n\r\n        const middleXPos = gap * (i + 1)\r\n        const leftXPos = gap * i\r\n        const rightXpos = gap * (i + 2)\r\n\r\n        const middleYPos = svgBottom - useAbleHeight * percent\r\n        const controlYPos = useAbleHeight * percent * 0.6 + middleYPos\r\n\r\n        const d = `\r\n          M${leftXPos}, ${svgBottom}\r\n          Q${middleXPos}, ${controlYPos} ${middleXPos},${middleYPos}\r\n          M${middleXPos},${middleYPos}\r\n          Q${middleXPos}, ${controlYPos} ${rightXpos},${svgBottom}\r\n          L${leftXPos}, ${svgBottom}\r\n          Z\r\n        `\r\n\r\n        const textY = (svgBottom + middleYPos) / 2 + fontSize / 2\r\n\r\n        return {\r\n          ...item,\r\n          d,\r\n          x: middleXPos,\r\n          y: middleYPos,\r\n          textY\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":"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"}]}