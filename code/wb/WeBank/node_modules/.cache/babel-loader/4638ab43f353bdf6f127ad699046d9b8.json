{"remainingRequest":"E:\\yho169\\素材\\解压包\\wb\\WeBank\\node_modules\\babel-loader\\lib\\index.js!E:\\yho169\\素材\\解压包\\wb\\WeBank\\common\\store.js","dependencies":[{"path":"E:\\yho169\\素材\\解压包\\wb\\WeBank\\common\\store.js","mtime":1678274808000},{"path":"E:\\yho169\\素材\\解压包\\wb\\WeBank\\babel.config.js","mtime":1657619760000},{"path":"E:\\yho169\\素材\\解压包\\wb\\WeBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\yho169\\素材\\解压包\\wb\\WeBank\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport local from \"./_local.js\";\nimport http from \"./http.js\";\nVue.use(Vuex);\nvar loginObject = {\n  login: function login(param) {\n    return new Promise(function (resolve, reject) {\n      http.get({\n        url: \"/user/info\",\n        param: param.data\n      }).then(function (data) {\n        console.log(data);\n        console.log(\"++++++++++++++++++++++++++++++++++++++++++++====\");\n        if (!param.rem) {\n          local.setItem(\"LIMITS\", data.limits);\n          local.setItem(\"USER_ID\", data.userId);\n          local.setItem(\"USER_NAME\", data.userName);\n        }\n        local.session.setItem(\"CURRENT_USER\", data);\n        resolve(data);\n      });\n    });\n  }\n};\nvar store = new Vuex.Store({\n  state: {\n    isAlreadyLogin: false,\n    currentUser: undefined\n  },\n  mutations: {\n    checkLogin: function checkLogin(state) {\n      var currentUser = local.session.getItem(\"CURRENT_USER\");\n      if (currentUser) {\n        state.isAlreadyLogin = true;\n        state.currentUser = currentUser;\n        return;\n      }\n      return;\n      var loginParam = local.getItem(\"LOGIN_INFO\");\n      if (loginParam && loginParam.data && loginParam.data.password && loginParam.data.account) {\n        loginObject.login(loginParam).then(function (data) {\n          state.isAlreadyLogin = true;\n          state.currentUser = data;\n        });\n      }\n    },\n    login: function login(state, param) {\n      loginObject.login(param).then(function (data) {\n        state.isAlreadyLogin = true;\n        state.currentUser = data;\n      });\n    },\n    loginOut: function loginOut(state) {\n      state.isAlreadyLogin = false;\n      state.currentUser = undefined;\n      local.session.removeItem(\"CURRENT_USER\");\n    }\n  }\n});\nstore.local = local;\nexport default store;",{"version":3,"names":["Vue","Vuex","local","http","use","loginObject","login","param","Promise","resolve","reject","get","url","data","then","console","log","rem","setItem","limits","userId","userName","session","store","Store","state","isAlreadyLogin","currentUser","undefined","mutations","checkLogin","getItem","loginParam","password","account","loginOut","removeItem"],"sources":["E:/yho169/素材/解压包/wb/WeBank/common/store.js"],"sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport local from './_local.js';\nimport http from './http.js';\n\nVue.use(Vuex);\n\nlet loginObject = {\n\tlogin: function(param) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\thttp.get({\n\t\t\t\turl: \"/user/info\",\n\t\t\t\tparam: param.data\n\t\t\t}).then(data => {\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tconsole.log(\"++++++++++++++++++++++++++++++++++++++++++++====\")\n\t\t\t\tif (!param.rem) {\n\t\t\t\t\tlocal.setItem(\"LIMITS\", data.limits);\r\n\t\t\t\t\tlocal.setItem(\"USER_ID\",data.userId);\r\n\t\t\t\t\tlocal.setItem(\"USER_NAME\",data.userName);\n\t\t\t\t}\n\t\t\t\tlocal.session.setItem(\"CURRENT_USER\", data);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\n\t\t\t\tresolve(data);\r\n\t\t\t\t\t\n\t\t\t});\n\t\t});\n\t}\n};\n\nconst store = new Vuex.Store({\n\tstate: {\n\t\tisAlreadyLogin: false,\n\t\tcurrentUser: undefined\n\t},\n\tmutations: {\n\t\tcheckLogin(state) {\n\t\t\tlet currentUser = local.session.getItem(\"CURRENT_USER\");\n\t\t\tif (currentUser) {\n\t\t\t\tstate.isAlreadyLogin = true;\n\t\t\t\tstate.currentUser = currentUser;\n\t\t\t\treturn;\n\t\t\t}\r\n\t\t\treturn;\n\t\t\tlet loginParam = local.getItem(\"LOGIN_INFO\");\n\t\t\tif (loginParam && \n\t\t\t\tloginParam.data &&\n\t\t\t\tloginParam.data.password && \n\t\t\t\tloginParam.data.account) {\n\t\t\t\tloginObject.login(loginParam).then(data => {\n\t\t\t\t\tstate.isAlreadyLogin = true;\n\t\t\t\t\tstate.currentUser = data;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tlogin(state, param) {\n\t\t\tloginObject.login(param).then(data => {\n\t\t\t\tstate.isAlreadyLogin = true;\n\t\t\t\tstate.currentUser = data;\n\t\t\t});\n\t\t},\n\t\tloginOut(state) {\n\t\t\tstate.isAlreadyLogin = false;\n\t\t\tstate.currentUser = undefined;\n\t\t\tlocal.session.removeItem(\"CURRENT_USER\");\n\t\t}\n\t}\n});\nstore.local = local;\n\nexport default store;\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,KAAK;AACZ,OAAOC,IAAI;AAEXH,GAAG,CAACI,GAAG,CAACH,IAAI,CAAC;AAEb,IAAII,WAAW,GAAG;EACjBC,KAAK,EAAE,SAAAA,MAASC,KAAK,EAAE;IACtB,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;MACvCP,IAAI,CAACQ,GAAG,CAAC;QACRC,GAAG,EAAE,YAAY;QACjBL,KAAK,EAAEA,KAAK,CAACM;MACd,CAAC,CAAC,CAACC,IAAI,CAAC,UAAAD,IAAI,EAAI;QACfE,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;QACjBE,OAAO,CAACC,GAAG,CAAC,kDAAkD,CAAC;QAC/D,IAAI,CAACT,KAAK,CAACU,GAAG,EAAE;UACff,KAAK,CAACgB,OAAO,CAAC,QAAQ,EAAEL,IAAI,CAACM,MAAM,CAAC;UACpCjB,KAAK,CAACgB,OAAO,CAAC,SAAS,EAACL,IAAI,CAACO,MAAM,CAAC;UACpClB,KAAK,CAACgB,OAAO,CAAC,WAAW,EAACL,IAAI,CAACQ,QAAQ,CAAC;QACzC;QACAnB,KAAK,CAACoB,OAAO,CAACJ,OAAO,CAAC,cAAc,EAAEL,IAAI,CAAC;QAI3CJ,OAAO,CAACI,IAAI,CAAC;MAEd,CAAC,CAAC;IACH,CAAC,CAAC;EACH;AACD,CAAC;AAED,IAAMU,KAAK,GAAG,IAAItB,IAAI,CAACuB,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACNC,cAAc,EAAE,KAAK;IACrBC,WAAW,EAAEC;EACd,CAAC;EACDC,SAAS,EAAE;IACVC,UAAU,WAAAA,WAACL,KAAK,EAAE;MACjB,IAAIE,WAAW,GAAGzB,KAAK,CAACoB,OAAO,CAACS,OAAO,CAAC,cAAc,CAAC;MACvD,IAAIJ,WAAW,EAAE;QAChBF,KAAK,CAACC,cAAc,GAAG,IAAI;QAC3BD,KAAK,CAACE,WAAW,GAAGA,WAAW;QAC/B;MACD;MACA;MACA,IAAIK,UAAU,GAAG9B,KAAK,CAAC6B,OAAO,CAAC,YAAY,CAAC;MAC5C,IAAIC,UAAU,IACbA,UAAU,CAACnB,IAAI,IACfmB,UAAU,CAACnB,IAAI,CAACoB,QAAQ,IACxBD,UAAU,CAACnB,IAAI,CAACqB,OAAO,EAAE;QACzB7B,WAAW,CAACC,KAAK,CAAC0B,UAAU,CAAC,CAAClB,IAAI,CAAC,UAAAD,IAAI,EAAI;UAC1CY,KAAK,CAACC,cAAc,GAAG,IAAI;UAC3BD,KAAK,CAACE,WAAW,GAAGd,IAAI;QACzB,CAAC,CAAC;MACH;IACD,CAAC;IACDP,KAAK,WAAAA,MAACmB,KAAK,EAAElB,KAAK,EAAE;MACnBF,WAAW,CAACC,KAAK,CAACC,KAAK,CAAC,CAACO,IAAI,CAAC,UAAAD,IAAI,EAAI;QACrCY,KAAK,CAACC,cAAc,GAAG,IAAI;QAC3BD,KAAK,CAACE,WAAW,GAAGd,IAAI;MACzB,CAAC,CAAC;IACH,CAAC;IACDsB,QAAQ,WAAAA,SAACV,KAAK,EAAE;MACfA,KAAK,CAACC,cAAc,GAAG,KAAK;MAC5BD,KAAK,CAACE,WAAW,GAAGC,SAAS;MAC7B1B,KAAK,CAACoB,OAAO,CAACc,UAAU,CAAC,cAAc,CAAC;IACzC;EACD;AACD,CAAC,CAAC;AACFb,KAAK,CAACrB,KAAK,GAAGA,KAAK;AAEnB,eAAeqB,KAAK"}]}