{"remainingRequest":"E:\\yho169\\工作\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\babel-loader\\lib\\index.js!E:\\yho169\\工作\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\yho169\\工作\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\yho169\\工作\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\@jiaminghi\\data-view\\lib\\components\\digitalFlop\\src\\main.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\yho169\\工作\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\@jiaminghi\\data-view\\lib\\components\\digitalFlop\\src\\main.vue","mtime":499162500000},{"path":"E:\\yho169\\工作\\YH_kehucaijixinxi\\code\\wb\\WeBank\\babel.config.js","mtime":1657619760000},{"path":"E:\\yho169\\工作\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\yho169\\工作\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\yho169\\工作\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\yho169\\工作\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _slicedToArray from \"E:/yho169/\\u5DE5\\u4F5C/YH_kehucaijixinxi/code/wb/WeBank/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport CRender from '@jiaminghi/c-render';\nimport '@jiaminghi/charts/lib/extend/index';\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index';\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util';\nexport default {\n  name: 'DvDigitalFlop',\n  props: {\n    config: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      renderer: null,\n      defaultConfig: {\n        /**\n         * @description Number for digital flop\n         * @type {Array<Number>}\n         * @default number = []\n         * @example number = [10]\n         */\n        number: [],\n        /**\n         * @description Content formatter\n         * @type {String}\n         * @default content = ''\n         * @example content = '{nt}个'\n         */\n        content: '',\n        /**\n         * @description Number toFixed\n         * @type {Number}\n         * @default toFixed = 0\n         */\n        toFixed: 0,\n        /**\n         * @description Text align\n         * @type {String}\n         * @default textAlign = 'center'\n         * @example textAlign = 'center' | 'left' | 'right'\n         */\n        textAlign: 'center',\n        /**\n         * @description rowGap\n         * @type {Number}\n         @default rowGap = 0\n         */\n        rowGap: 0,\n        /**\n         * @description Text style configuration\n         * @type {Object} {CRender Class Style}\n         */\n        style: {\n          fontSize: 30,\n          fill: '#3de7c9'\n        },\n        /**\n         * @description Number formatter\n         * @type {Null|Function}\n         */\n        formatter: undefined,\n        /**\n         * @description CRender animationCurve\n         * @type {String}\n         * @default animationCurve = 'easeOutCubic'\n         */\n        animationCurve: 'easeOutCubic',\n        /**\n         * @description CRender animationFrame\n         * @type {String}\n         * @default animationFrame = 50\n         */\n        animationFrame: 50\n      },\n      mergedConfig: null,\n      graph: null\n    };\n  },\n  watch: {\n    config: function config() {\n      var update = this.update;\n      update();\n    }\n  },\n  methods: {\n    init: function init() {\n      var initRender = this.initRender,\n        mergeConfig = this.mergeConfig,\n        initGraph = this.initGraph;\n      initRender();\n      mergeConfig();\n      initGraph();\n    },\n    initRender: function initRender() {\n      var $refs = this.$refs;\n      this.renderer = new CRender($refs['digital-flop']);\n    },\n    mergeConfig: function mergeConfig() {\n      var defaultConfig = this.defaultConfig,\n        config = this.config;\n      this.mergedConfig = deepMerge(deepClone(defaultConfig, true), config || {});\n    },\n    initGraph: function initGraph() {\n      var getShape = this.getShape,\n        getStyle = this.getStyle,\n        renderer = this.renderer,\n        mergedConfig = this.mergedConfig;\n      var animationCurve = mergedConfig.animationCurve,\n        animationFrame = mergedConfig.animationFrame;\n      var shape = getShape();\n      var style = getStyle();\n      this.graph = renderer.add({\n        name: 'numberText',\n        animationCurve: animationCurve,\n        animationFrame: animationFrame,\n        shape: shape,\n        style: style\n      });\n    },\n    getShape: function getShape() {\n      var _this$mergedConfig = this.mergedConfig,\n        number = _this$mergedConfig.number,\n        content = _this$mergedConfig.content,\n        toFixed = _this$mergedConfig.toFixed,\n        textAlign = _this$mergedConfig.textAlign,\n        rowGap = _this$mergedConfig.rowGap,\n        formatter = _this$mergedConfig.formatter;\n      var _this$renderer$area = _slicedToArray(this.renderer.area, 2),\n        w = _this$renderer$area[0],\n        h = _this$renderer$area[1];\n      var position = [w / 2, h / 2];\n      if (textAlign === 'left') position[0] = 0;\n      if (textAlign === 'right') position[0] = w;\n      return {\n        number: number,\n        content: content,\n        toFixed: toFixed,\n        position: position,\n        rowGap: rowGap,\n        formatter: formatter\n      };\n    },\n    getStyle: function getStyle() {\n      var _this$mergedConfig2 = this.mergedConfig,\n        style = _this$mergedConfig2.style,\n        textAlign = _this$mergedConfig2.textAlign;\n      return deepMerge(style, {\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      });\n    },\n    update: function update() {\n      var mergeConfig = this.mergeConfig,\n        mergeShape = this.mergeShape,\n        getShape = this.getShape,\n        getStyle = this.getStyle,\n        graph = this.graph,\n        mergedConfig = this.mergedConfig;\n      graph.animationEnd();\n      mergeConfig();\n      if (!graph) return;\n      var animationCurve = mergedConfig.animationCurve,\n        animationFrame = mergedConfig.animationFrame;\n      var shape = getShape();\n      var style = getStyle();\n      mergeShape(graph, shape);\n      graph.animationCurve = animationCurve;\n      graph.animationFrame = animationFrame;\n      graph.animation('style', style, true);\n      graph.animation('shape', shape);\n    },\n    mergeShape: function mergeShape(graph, shape) {\n      var cacheNum = graph.shape.number.length;\n      var shapeNum = shape.number.length;\n      if (cacheNum !== shapeNum) graph.shape.number = shape.number;\n    }\n  },\n  mounted: function mounted() {\n    var init = this.init;\n    init();\n  }\n};",{"version":3,"names":["CRender","deepMerge","deepClone","name","props","config","type","Object","default","_default","data","renderer","defaultConfig","number","content","toFixed","textAlign","rowGap","style","fontSize","fill","formatter","undefined","animationCurve","animationFrame","mergedConfig","graph","watch","update","methods","init","initRender","mergeConfig","initGraph","$refs","getShape","getStyle","shape","add","_this$mergedConfig","_this$renderer$area","_slicedToArray","area","w","h","position","_this$mergedConfig2","textBaseline","mergeShape","animationEnd","animation","cacheNum","length","shapeNum","mounted"],"sources":["node_modules/@jiaminghi/data-view/lib/components/digitalFlop/src/main.vue"],"sourcesContent":["<template>\n  <div class=\"dv-digital-flop\">\n    <canvas ref=\"digital-flop\" />\n  </div>\n</template>\n\n<script>\nimport CRender from '@jiaminghi/c-render'\n\nimport '@jiaminghi/charts/lib/extend/index'\n\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\n\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\n\nexport default {\n  name: 'DvDigitalFlop',\n  props: {\n    config: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data () {\n    return {\n      renderer: null,\n\n      defaultConfig: {\n        /**\n         * @description Number for digital flop\n         * @type {Array<Number>}\n         * @default number = []\n         * @example number = [10]\n         */\n        number: [],\n        /**\n         * @description Content formatter\n         * @type {String}\n         * @default content = ''\n         * @example content = '{nt}个'\n         */\n        content: '',\n        /**\n         * @description Number toFixed\n         * @type {Number}\n         * @default toFixed = 0\n         */\n        toFixed: 0,\n        /**\n         * @description Text align\n         * @type {String}\n         * @default textAlign = 'center'\n         * @example textAlign = 'center' | 'left' | 'right'\n         */\n        textAlign: 'center',\n        /**\n         * @description rowGap\n         * @type {Number}\n         @default rowGap = 0\n         */\n        rowGap: 0,\n        /**\n         * @description Text style configuration\n         * @type {Object} {CRender Class Style}\n         */\n        style: {\n          fontSize: 30,\n          fill: '#3de7c9'\n        },\n        /**\n         * @description Number formatter\n         * @type {Null|Function}\n         */\n        formatter: undefined,\n        /**\n         * @description CRender animationCurve\n         * @type {String}\n         * @default animationCurve = 'easeOutCubic'\n         */\n        animationCurve: 'easeOutCubic',\n        /**\n         * @description CRender animationFrame\n         * @type {String}\n         * @default animationFrame = 50\n         */\n        animationFrame: 50\n      },\n\n      mergedConfig: null,\n\n      graph: null\n    }\n  },\n  watch: {\n    config () {\n      const { update } = this\n\n      update()\n    }\n  },\n  methods: {\n    init () {\n      const { initRender, mergeConfig, initGraph } = this\n\n      initRender()\n\n      mergeConfig()\n\n      initGraph()\n    },\n    initRender () {\n      const { $refs } = this\n\n      this.renderer = new CRender($refs['digital-flop'])\n    },\n    mergeConfig () {\n      const { defaultConfig, config } = this\n\n      this.mergedConfig = deepMerge(deepClone(defaultConfig, true), config || {})\n    },\n    initGraph () {\n      const { getShape, getStyle, renderer, mergedConfig } = this\n\n      const { animationCurve, animationFrame } = mergedConfig\n\n      const shape = getShape()\n      const style = getStyle()\n\n      this.graph = renderer.add({\n        name: 'numberText',\n        animationCurve,\n        animationFrame,\n        shape,\n        style\n      })\n    },\n    getShape () {\n      const { number, content, toFixed, textAlign, rowGap, formatter } = this.mergedConfig\n\n      const [w, h] = this.renderer.area\n\n      const position = [w / 2, h / 2]\n\n      if (textAlign === 'left') position[0] = 0\n      if (textAlign === 'right') position[0] = w\n\n      return {\n        number,\n        content,\n        toFixed,\n        position,\n        rowGap,\n        formatter\n      }\n    },\n    getStyle () {\n      const { style, textAlign } = this.mergedConfig\n\n      return deepMerge(style, {\n        textAlign,\n        textBaseline: 'middle'\n      })\n    },\n    update () {\n      const { mergeConfig, mergeShape, getShape, getStyle, graph, mergedConfig } = this\n\n      graph.animationEnd()\n\n      mergeConfig()\n\n      if (!graph) return\n\n      const { animationCurve, animationFrame } = mergedConfig\n\n      const shape = getShape()\n      const style = getStyle()\n\n      mergeShape(graph, shape)\n\n      graph.animationCurve = animationCurve\n      graph.animationFrame = animationFrame\n\n      graph.animation('style', style, true)\n      graph.animation('shape', shape)\n    },\n    mergeShape (graph, shape) {\n      const cacheNum = graph.shape.number.length\n      const shapeNum = shape.number.length\n\n      if (cacheNum !== shapeNum) graph.shape.number = shape.number\n    }\n  },\n  mounted () {\n    const { init } = this\n\n    init()\n  }\n}\n</script>"],"mappings":"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"}]}