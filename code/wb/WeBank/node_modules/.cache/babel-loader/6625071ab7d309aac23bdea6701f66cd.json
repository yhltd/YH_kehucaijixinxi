{"remainingRequest":"E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\babel-loader\\lib\\index.js!E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\common\\http.js","dependencies":[{"path":"E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\common\\http.js","mtime":1681782968937},{"path":"E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\babel.config.js","mtime":1681782968933},{"path":"E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681782977946},{"path":"E:\\工作(林)\\YH_kehucaijixinxi\\code\\wb\\WeBank\\node_modules\\babel-loader\\lib\\index.js","mtime":1681782976971}],"contextDependencies":[],"result":["import axios from \"axios\";\nimport runtime_config from \"./config\";\nimport message from \"./message.js\";\nimport store from \"../common/store.js\";\naxios.defaults.withCredentials = true;\n//允许跨域携带cookie信息，cookies信息指某些网站为了辨别用户身份、进行 session 跟踪而储存在用户本地终端上的数据（通常经过加密）。\naxios.defaults.headers.post[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\naxios.defaults.headers.put[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\naxios.defaults.headers.put[\"Content-Type\"] = \"application/json\";\nconsole.log(axios.defaults.headers);\nvar _instance = axios.create({\n  withCredentials: true,\n  baseURL: runtime_config[process.env.NODE_ENV].path\n});\n_instance.interceptors.request.use(\n//拦截请求\nfunction (config) {\n  return config;\n}, function (error) {\n  console.log(\"出错了\");\n});\nvar httpObject = {\n  _changeParam: function _changeParam(param) {\n    if (process.env.NODE_ENV !== \"local\") {\n      param.params = param.param;\n    }\n    return param;\n  },\n  put: function put(param) {\n    param.method = \"put\";\n    return httpObject._request(httpObject._changeParam(param));\n  },\n  get: function get(param) {\n    param.method = \"get\";\n    return httpObject._request(httpObject._changeParam(param));\n  },\n  post: function post(param) {\n    param.method = \"post\";\n    return httpObject._request(httpObject._changeParam(param));\n  },\n  \"delete\": function _delete(param) {\n    param.method = \"delete\";\n    return httpObject._request(httpObject._changeParam(param));\n  },\n  _request: function _request(param) {\n    return new Promise(function (resolve, reject) {\n      _instance.request(param).then(function (res) {\n        console.log(res);\n        var response = typeof res === \"string\" ? JSON.parse(res) : res;\n        var responseData = response.data;\n        var statu = responseData.statuCode;\n        if (\"success\" === statu) {\n          resolve(responseData.resultData);\n        } else if (statu === \"notLogin\") {\n          store.commit('loginOut');\n        } else if (statu === \"fail\") {\n          message.warning(responseData.resultMessage);\n        } else if (statu === \"error\") {\n          message.error(responseData.resultMessage);\n        } else {\n          message.error(\"系统出现未知错误！\");\n        }\n      }).catch(function (err) {\n        message.error(\"系统出现未知错误！\");\n      });\n    });\n  }\n};\nexport default httpObject;",{"version":3,"names":["axios","runtime_config","message","store","defaults","withCredentials","headers","post","put","console","log","_instance","create","baseURL","process","env","NODE_ENV","path","interceptors","request","use","config","error","httpObject","_changeParam","param","params","method","_request","get","_delete","Promise","resolve","reject","then","res","response","JSON","parse","responseData","data","statu","statuCode","resultData","commit","warning","resultMessage","catch","err"],"sources":["E:/工作(林)/YH_kehucaijixinxi/code/wb/WeBank/common/http.js"],"sourcesContent":["import axios from \"axios\";\r\nimport runtime_config from \"./config\";\r\nimport message from \"./message.js\";\r\nimport store from '../common/store.js';\r\n\r\naxios.defaults.withCredentials = true;\r\n//允许跨域携带cookie信息，cookies信息指某些网站为了辨别用户身份、进行 session 跟踪而储存在用户本地终端上的数据（通常经过加密）。\r\naxios.defaults.headers.post[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\r\naxios.defaults.headers.put[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\r\naxios.defaults.headers.put[\"Content-Type\"] = \"application/json\";\r\nconsole.log(axios.defaults.headers);\r\nlet _instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: runtime_config[process.env.NODE_ENV].path\r\n});\r\n_instance.interceptors.request.use(//拦截请求\r\n\tconfig => {\r\n\t\treturn config;\r\n\t}, \r\n\terror => {\r\n\t\tconsole.log(\"出错了\")\r\n\t}\r\n);\r\n\r\nconst httpObject = {\r\n\t\r\n\t_changeParam: param => {\r\n\t\tif (process.env.NODE_ENV !== \"local\") {\r\n\t\t\tparam.params = param.param;\r\n\t\t}\r\n\t\treturn param;\r\n\t},\r\n\tput: param => {\r\n\t\tparam.method = \"put\";\r\n\t\treturn httpObject._request(httpObject._changeParam(param));\r\n\t},\r\n\tget: param => {\r\n\t\tparam.method = \"get\";\r\n\t\treturn httpObject._request(httpObject._changeParam(param));\r\n\t},\r\n\tpost: param => {\r\n\t\tparam.method = \"post\";\r\n\t\treturn httpObject._request(httpObject._changeParam(param));\r\n\t},\r\n\t\"delete\": param => {\r\n\t\tparam.method = \"delete\";\r\n\t\treturn httpObject._request(httpObject._changeParam(param));\r\n\t},\r\n\t_request: param => {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t_instance.request(param)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tlet response = typeof res === \"string\" ? JSON.parse(res) : res;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet responseData = response.data;\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet statu = responseData.statuCode;\r\n\t\t\t\t\tif (\"success\" === statu) {\r\n\t\t\t\t\t\tresolve(responseData.resultData);\r\n\t\t\t\t\t} \r\n\t\t\t\t\telse if (statu === \"notLogin\") {\r\n\t\t\t\t\t\tstore.commit('loginOut');\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (statu === \"fail\") {\r\n\t\t\t\t\t\tmessage.warning(responseData.resultMessage);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (statu === \"error\") {\r\n\t\t\t\t\t\tmessage.error(responseData.resultMessage);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmessage.error(\"系统出现未知错误！\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tmessage.error(\"系统出现未知错误！\");\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default httpObject;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,cAAc;AACrB,OAAOC,OAAO;AACd,OAAOC,KAAK;AAEZH,KAAK,CAACI,QAAQ,CAACC,eAAe,GAAG,IAAI;AACrC;AACAL,KAAK,CAACI,QAAQ,CAACE,OAAO,CAACC,IAAI,CAAC,cAAc,CAAC,GAAG,mCAAmC;AACjFP,KAAK,CAACI,QAAQ,CAACE,OAAO,CAACE,GAAG,CAAC,cAAc,CAAC,GAAG,mCAAmC;AAChFR,KAAK,CAACI,QAAQ,CAACE,OAAO,CAACE,GAAG,CAAC,cAAc,CAAC,GAAG,kBAAkB;AAC/DC,OAAO,CAACC,GAAG,CAACV,KAAK,CAACI,QAAQ,CAACE,OAAO,CAAC;AACnC,IAAIK,SAAS,GAAGX,KAAK,CAACY,MAAM,CAAC;EAC5BP,eAAe,EAAE,IAAI;EACrBQ,OAAO,EAAEZ,cAAc,CAACa,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC,CAACC;AAC/C,CAAC,CAAC;AACFN,SAAS,CAACO,YAAY,CAACC,OAAO,CAACC,GAAG;AAAC;AAClC,UAAAC,MAAM,EAAI;EACT,OAAOA,MAAM;AACd,CAAC,EACD,UAAAC,KAAK,EAAI;EACRb,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;AACnB,CAAC,CACD;AAED,IAAMa,UAAU,GAAG;EAElBC,YAAY,EAAE,SAAAA,aAAAC,KAAK,EAAI;IACtB,IAAIX,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,OAAO,EAAE;MACrCS,KAAK,CAACC,MAAM,GAAGD,KAAK,CAACA,KAAK;IAC3B;IACA,OAAOA,KAAK;EACb,CAAC;EACDjB,GAAG,EAAE,SAAAA,IAAAiB,KAAK,EAAI;IACbA,KAAK,CAACE,MAAM,GAAG,KAAK;IACpB,OAAOJ,UAAU,CAACK,QAAQ,CAACL,UAAU,CAACC,YAAY,CAACC,KAAK,CAAC,CAAC;EAC3D,CAAC;EACDI,GAAG,EAAE,SAAAA,IAAAJ,KAAK,EAAI;IACbA,KAAK,CAACE,MAAM,GAAG,KAAK;IACpB,OAAOJ,UAAU,CAACK,QAAQ,CAACL,UAAU,CAACC,YAAY,CAACC,KAAK,CAAC,CAAC;EAC3D,CAAC;EACDlB,IAAI,EAAE,SAAAA,KAAAkB,KAAK,EAAI;IACdA,KAAK,CAACE,MAAM,GAAG,MAAM;IACrB,OAAOJ,UAAU,CAACK,QAAQ,CAACL,UAAU,CAACC,YAAY,CAACC,KAAK,CAAC,CAAC;EAC3D,CAAC;EACD,QAAQ,EAAE,SAAAK,QAAAL,KAAK,EAAI;IAClBA,KAAK,CAACE,MAAM,GAAG,QAAQ;IACvB,OAAOJ,UAAU,CAACK,QAAQ,CAACL,UAAU,CAACC,YAAY,CAACC,KAAK,CAAC,CAAC;EAC3D,CAAC;EACDG,QAAQ,EAAE,SAAAA,SAAAH,KAAK,EAAI;IAClB,OAAO,IAAIM,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;MACvCtB,SAAS,CAACQ,OAAO,CAACM,KAAK,CAAC,CACtBS,IAAI,CAAC,UAAAC,GAAG,EAAI;QAEZ1B,OAAO,CAACC,GAAG,CAACyB,GAAG,CAAC;QAChB,IAAIC,QAAQ,GAAG,OAAOD,GAAG,KAAK,QAAQ,GAAGE,IAAI,CAACC,KAAK,CAACH,GAAG,CAAC,GAAGA,GAAG;QAG9D,IAAII,YAAY,GAAGH,QAAQ,CAACI,IAAI;QAEhC,IAAIC,KAAK,GAAGF,YAAY,CAACG,SAAS;QAClC,IAAI,SAAS,KAAKD,KAAK,EAAE;UACxBT,OAAO,CAACO,YAAY,CAACI,UAAU,CAAC;QACjC,CAAC,MACI,IAAIF,KAAK,KAAK,UAAU,EAAE;UAC9BtC,KAAK,CAACyC,MAAM,CAAC,UAAU,CAAC;QACzB,CAAC,MACI,IAAIH,KAAK,KAAK,MAAM,EAAE;UAC1BvC,OAAO,CAAC2C,OAAO,CAACN,YAAY,CAACO,aAAa,CAAC;QAC5C,CAAC,MACI,IAAIL,KAAK,KAAK,OAAO,EAAE;UAC3BvC,OAAO,CAACoB,KAAK,CAACiB,YAAY,CAACO,aAAa,CAAC;QAC1C,CAAC,MAAM;UACN5C,OAAO,CAACoB,KAAK,CAAC,WAAW,CAAC;QAC3B;MACD,CAAC,CAAC,CACDyB,KAAK,CAAC,UAAAC,GAAG,EAAI;QACb9C,OAAO,CAACoB,KAAK,CAAC,WAAW,CAAC;MAC3B,CAAC,CAAC;IACJ,CAAC,CAAC;EACH;AACD,CAAC;AAID,eAAeC,UAAU"}]}